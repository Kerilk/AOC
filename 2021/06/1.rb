require 'matrix'
v = Vector[ 0, 0, 0, 0, 0, 0, 0, 0, 0 ] 
File.read("input").split(",").map(&:to_i).tally.each { |k, s| v[k] = s }
mat = Matrix[ [0,1,0,0,0,0,0,0,0],
              [0,0,1,0,0,0,0,0,0],
              [0,0,0,1,0,0,0,0,0],
              [0,0,0,0,1,0,0,0,0],
              [0,0,0,0,0,1,0,0,0],
              [0,0,0,0,0,0,1,0,0],
              [1,0,0,0,0,0,0,1,0],
              [0,0,0,0,0,0,0,0,1],
              [1,0,0,0,0,0,0,0,0]]
m = [mat]
7.times { m.push( m.last * m.last ) }
m_80 = m[6]*m[4]
p (m_80*v).sum
